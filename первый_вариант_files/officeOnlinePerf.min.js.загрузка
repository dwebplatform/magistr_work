var officeOnlinePerf=function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([,function(e,t,r){"use strict";r(2);var o=r(3);r.d(t,"JSCPUProfilingPackageRetriever",(function(){return o.a}))},function(e,t){},function(e,t,r){"use strict";var o,n=function(){function e(e){this.logger=e}return e.prototype.start=function(){this.logger.logNullJSCPUProfilerStartCalled()},e.prototype.stop=function(){this.logger.logNullJSCPUProfilerStopCalled()},e}(),i=function(){function e(){}return e.prototype.getCurrentTimestamp=function(){return window.performance.now()},e}(),a=function(){function e(e,t,r){return this.performanceTimestampRetriever=t,this.logger=r,this.startTimestamp=-1,this.stopTimestamp=-1,e.isWindowDefined()?e.isWindowPerformanceDefined()?e.isWindowPerformanceNowDefined()?void(this.unsupportedEnvironment=!1):(this.logger.logWindowPerformanceNowMissingInJSEnvironment(),void(this.unsupportedEnvironment=!0)):(this.logger.logWindowPerformanceMissingInJSEnvironment(),void(this.unsupportedEnvironment=!0)):(this.logger.logWindowMissingInJSEnvironment(),void(this.unsupportedEnvironment=!0))}return e.prototype.start=function(){this.unsupportedEnvironment?this.logger.logStopWatchStartingInUnsupportedEnvironment():this.startTimestamp=this.performanceTimestampRetriever.getCurrentTimestamp()},e.prototype.stop=function(){this.unsupportedEnvironment?this.logger.logStopWatchStoppingInUnsupportedEnvironment():this.stopTimestamp=this.performanceTimestampRetriever.getCurrentTimestamp()},e.prototype.getElapsedTime=function(){if(-1===this.startTimestamp)return this.logger.logGetElapsedTimeCalledWithoutCallingStart(),-1;if(-1===this.stopTimestamp)return this.logger.logGetElapsedTimeCalledWithoutCallingStop(),-1;var e=this.stopTimestamp-this.startTimestamp;return this.resetTimestamps(),e},e.prototype.resetTimestamps=function(){this.startTimestamp=-1,this.stopTimestamp=-1},e}(),l=r(11),s=r(9),u=r(10),c=function(){function e(){}return e.prototype.logWindowMissingInJSEnvironment=function(){l.a.sendTraceTag(579110676,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to find window in the JS environment")},e.prototype.logWindowPerformanceMissingInJSEnvironment=function(){l.a.sendTraceTag(579110677,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to find window.performance in the JS environment")},e.prototype.logWindowPerformanceNowMissingInJSEnvironment=function(){l.a.sendTraceTag(579110678,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to find window.performance.now in the JS environment")},e.prototype.logStopWatchStartingInUnsupportedEnvironment=function(){l.a.sendTraceTag(579110679,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Starting the stopwatch in an unsupported environment. Incorrect data will be stored")},e.prototype.logStopWatchStoppingInUnsupportedEnvironment=function(){l.a.sendTraceTag(579110680,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Stopping the stopwatch in an unsupported environment. Incorrect data will be stored")},e.prototype.logGetElapsedTimeCalledWithoutCallingStart=function(){l.a.sendTraceTag(579110683,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Stopwatch needs to be started before you can get elapsed time")},e.prototype.logGetElapsedTimeCalledWithoutCallingStop=function(){l.a.sendTraceTag(579110684,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Stopwatch needs to be stopped before you can get elapsed time")},e}(),p=function(){function e(){}return e.prototype.isWindowDefined=function(){return null!=window},e.prototype.isWindowPerformanceDefined=function(){return"performance"in window},e.prototype.isWindowPerformanceNowDefined=function(){return"now"in window.performance},e}(),d=function(){function e(){}return e.createNewStopWatch=function(){var e=new c,t=new p,r=new i;return new a(t,r,e)},e}(),g=function(){function e(){}return e.prototype.logOperation=function(e,t,r,o,n,i,a,c){var p={};a.forEach((function(e,t){p[t]=e})),l.a.sendTraceTag(578958171,s.a.msoulscat_Wac_Telemetry,n?u.a.Error:u.a.Info,JSON.stringify({operationName:e,parentOperationName:t,didOperationSucceed:r,measuredRunTime:o,logs:i,properties:p,exception:c}))},e.prototype.logFallbackResultReturned=function(){l.a.sendTraceTag(578090845,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Fallback result is being returned")},e}(),f=new(function(){function e(){this.elements=[]}return e.prototype.push=function(e){this.elements.unshift(e)},e.prototype.pop=function(){return this.elements.shift()},e.prototype.peek=function(){return this.elements.length>0?this.elements[0]:void 0},e}()),m=function(){function e(e,t,r,o){var n=f.peek(),i=void 0!==n?n:"";f.push(e),this.logs=[],this.propertyBag=new Map;var a=d.createNewStopWatch();a.start();var l=void 0,s=!1;try{s=(l=t(this)).didOperationFailUnexpectedly}catch(e){this.exception=e,s=!0}this.operationResult=void 0!==l?l:r,a.stop(),o.logOperation(e,i,this.operationResult.didOperationSucceed,a.getElapsedTime(),s,this.logs,this.propertyBag,this.exception),f.pop()}return e.prototype.addLog=function(e){this.logs.push(e)},e.prototype.addProperty=function(e,t){this.propertyBag.set(e,t)},e.prototype.getResult=function(){return this.operationResult.result},e.startNew=function(t,r,o){return new e(t,r,o,new g)},e}(),T=function(){function e(e,t,r){this.didOperationSucceed=e,this.didOperationFailUnexpectedly=t,this.result=r}return e.generateOperationResult=function(t){return new e(t.didOperationSucceed,null!=t.didOperationFailUnexpectedly&&t.didOperationFailUnexpectedly,t.result)},e}();!function(e){e.Chrome="chrome"}(o||(o={}));var h=function(){function e(e){this.logger=e}return e.prototype.hasProperty=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckWindowProperty",(function(){return null==window?(t.logger.logWindowMissingInJSEnvironment(),T.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0})):(t.logger.logWindowPropertyNameChecked(e),T.generateOperationResult({didOperationSucceed:!0,result:e in window}))}),r).getResult()},e}(),v=function(){function e(e){this.logger=e}return e.prototype.isBrowserChromiumBased=function(e){return function(e,t,r){var n=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckChromiumBrowser",(function(n){if(n.addProperty("UserAgent",e),0===e.localeCompare(""))return r.logEmptyUserAgentString(),T.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});var i=e.match(/(Chrome\/|CriOS\/)/g);return null!=e.match(/(CriOS\/)/g)&&r.logChromiumOnIOS(),null===i?(r.logBrowserUserAgentNotChromiumBased(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):t.hasProperty(o.Chrome)?T.generateOperationResult({didOperationSucceed:!0,result:!0}):(r.logUserAgentSpoofedToBeChromium(),T.generateOperationResult({didOperationSucceed:!0,result:!1}))}),n).getResult()}(e,new h(this.logger),this.logger)},e.prototype.parseChromeMajorVersionNumber=function(e){return function(e,t){var r=T.generateOperationResult({didOperationSucceed:!1,result:-1});return m.startNew("ParseChromiumMajorVersionNumber",(function(r){r.addProperty("UserAgent",e);var o=e.match(/((Chrome\/|CriOS\/)(\d|\.)+)/g);if(null==o)return t.logChromeNotPresentInUserAgent(),T.generateOperationResult({didOperationSucceed:!1,result:-1});var n=o[0].split("/");if(n.length<2)return t.logUnableToIsolateChromeInformationFromUserAgent(),T.generateOperationResult({didOperationSucceed:!1,result:-1});var i=n[1].split(".");if(i.length<4)return t.logUnableToExtractChromeVersionInformation(),T.generateOperationResult({didOperationSucceed:!1,result:-1});var a=i[0],l=parseInt(a,10);if(isNaN(l))return t.logUnableToParseChromeMajorVersionString(),T.generateOperationResult({didOperationSucceed:!1,result:-1});return r.addProperty("MajorVersionNumber",l),T.generateOperationResult({didOperationSucceed:!0,result:l})}),r).getResult()}(e,this.logger)},e}(),S=function(){function e(){}return e.prototype.logWindowMissingInJSEnvironment=function(){l.a.sendTraceTag(578834847,s.a.msoulscat_Wac_Telemetry,u.a.Warning,"Unable to find window in the JS environment")},e.prototype.logWindowPropertyNameChecked=function(e){l.a.sendTraceTag(578834848,s.a.msoulscat_Wac_Telemetry,u.a.Info,e)},e.prototype.logEmptyUserAgentString=function(){l.a.sendTraceTag(578834850,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Empty user agent string")},e.prototype.logChromiumOnIOS=function(){l.a.sendTraceTag(578834851,s.a.msoulscat_Wac_Telemetry,u.a.Info,"iOS version of Chromium based browser detected")},e.prototype.logBrowserUserAgentNotChromiumBased=function(){l.a.sendTraceTag(578834880,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Browser not chromium based")},e.prototype.logUserAgentSpoofedToBeChromium=function(){l.a.sendTraceTag(578834881,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Browser user agent spoofed to be chromium based")},e.prototype.logUserAgentToParseChromiumMajorVersionNumber=function(e){l.a.sendTraceTag(578834882,s.a.msoulscat_Wac_Telemetry,u.a.Info,e)},e.prototype.logChromeNotPresentInUserAgent=function(){l.a.sendTraceTag(578834883,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Chrome was not found in the user agent")},e.prototype.logUnableToIsolateChromeInformationFromUserAgent=function(){l.a.sendTraceTag(578834884,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to isolate chrome information from the user agent")},e.prototype.logUnableToExtractChromeVersionInformation=function(){l.a.sendTraceTag(578834885,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to extract chrome version information from the user agent")},e.prototype.logUnableToParseChromeMajorVersionString=function(){l.a.sendTraceTag(578834886,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to parse the chromium major version number")},e.prototype.logRequestIdleCallbackMissing=function(){l.a.sendTraceTag(576582740,s.a.msoulscat_Wac_Telemetry,u.a.Warning,"Unable to find window.requestIdleCallback in the JS environment")},e.prototype.logCallbackBeingInvokedImmediately=function(){l.a.sendTraceTag(576582743,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Callback is being invoked immediately as there is no platform support for deferring work")},e.prototype.logCancelIdleCallbackMissing=function(){l.a.sendTraceTag(576582744,s.a.msoulscat_Wac_Telemetry,u.a.Warning,"Unable to find window.cancelIdleCallback in the JS environment")},e.prototype.logUnknownMechanism=function(){l.a.sendTraceTag(576582747,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to find a way to cancel the idle time job")},e.prototype.logWindowSetTimeOutMissingInJSEnvironment=function(){l.a.sendTraceTag(576239755,s.a.msoulscat_Wac_Telemetry,u.a.Error,"window.setTimeout is missing in JS environment")},e.prototype.logTimerJobDuration=function(e){l.a.sendTraceTag(576239756,s.a.msoulscat_Wac_Telemetry,u.a.Info,""+e)},e.prototype.logTimerJobScheduled=function(){l.a.sendTraceTag(576239757,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Timer job was scheduled")},e.prototype.logWindowPerformanceMissingInJSEnvironment=function(){l.a.sendTraceTag(576218121,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to find window.performance in the JS environment")},e.prototype.logWindowPerformanceNowMissingInJSEnvironment=function(){l.a.sendTraceTag(576218122,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to find window.performance.now in the JS environment")},e.prototype.logNavigatorMissingInJSEnvironment=function(){l.a.sendTraceTag(574657350,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Navigator is missing in the JS environment")},e.prototype.logSendBeaconNotSupported=function(){l.a.sendTraceTag(573970625,s.a.msoulscat_Wac_Telemetry,u.a.Info,"SendBeacon not supported in current environment")},e.prototype.logBeaconURLIsEmpty=function(){l.a.sendTraceTag(573919702,s.a.msoulscat_Wac_Telemetry,u.a.Error,"We were passed an empty URL for sendBeacon")},e.prototype.logBeaconDataIsEmpty=function(){l.a.sendTraceTag(573907718,s.a.msoulscat_Wac_Telemetry,u.a.Error,"We were passed an empty data for sendBeacon")},e.prototype.logDocumentMissingInJsEnvironment=function(){l.a.sendTraceTag(573572181,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Document is not present in JS Environment")},e.prototype.logDocumentVisibilityStateMissingInJsEnvironment=function(){l.a.sendTraceTag(573572182,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Document VisibilityState is not present in JS Environment")},e.prototype.logDocumentAddEventListenerMissingInJsEnvironment=function(){l.a.sendTraceTag(573572183,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Document AddEventListener is not present in JS Environment")},e}(),y=function(){function e(){}return e.getBrowserUtils=function(){var e=new S;return new v(e)},e}();var O,I=function(){function e(e,t){this.windowPropertyChecker=e,this.logger=t}return e.prototype.scheduleJobForIdleTime=function(e){var t,r,o,n,i;t=function(){e()},r=this.windowPropertyChecker,o=this.logger,i=T.generateOperationResult({didOperationSucceed:!1,result:{id:-1,underlyingMechanism:"InvalidUnderlyingMechanism"}}),m.startNew("RequestIdleCallbackShim",(function(){if(r.hasProperty("requestIdleCallback")){var e=window.requestIdleCallback(t,n);return T.generateOperationResult({didOperationSucceed:!0,result:{id:e,underlyingMechanism:"requestIdleCallback"}})}o.logRequestIdleCallbackMissing();var i=Date.now(),a={didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-i))}};return o.logCallbackBeingInvokedImmediately(),t(a),T.generateOperationResult({didOperationSucceed:!0,result:{id:-1,underlyingMechanism:"InvalidUnderlyingMechanism"}})}),i).getResult()},e}(),P=function(){function e(){}return e.getIdleTimeJobScheduler=function(){var e=new S,t=new h(e);return new I(t,e)},e}(),C=function(){function e(){}return e.prototype.getBooleanPropertyValue=function(e){var t=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckSelfProperty",(function(t){t.addProperty("PropertyChecked",e);var r=!!self.hasOwnProperty(e)&&self[e];return T.generateOperationResult({didOperationSucceed:!0,result:r})}),t).getResult()},e}(),_=function(){function e(e){this.selfPropertyChecker=e}return e.prototype.isSiteCrossOriginIsolated=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckCrossOriginSiteIsolation",(function(){var t=e.selfPropertyChecker.getBooleanPropertyValue("crossOriginIsolated");return T.generateOperationResult({didOperationSucceed:!0,result:t})}),t).getResult()},e}(),w=function(){function e(){}return e.getChecker=function(){var e=new C;return new _(e)},e}(),b=function(){function e(e){this.logger=e}return e.prototype.setTimerJob=function(e,t){var r=this,o=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("SetTimerJob",(function(){return null==window?(r.logger.logWindowMissingInJSEnvironment(),T.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):null==window.setTimeout?(r.logger.logWindowSetTimeOutMissingInJSEnvironment(),T.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):(r.logger.logTimerJobDuration(t),window.setTimeout(e,t),r.logger.logTimerJobScheduled(),T.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),o)},e}(),R=function(){function e(){}return e.getTimerJobScheduler=function(){var e=new S;return new b(e)},e}(),k=function(){function e(e){var t=this;this.logger=e,this.onVisibilityChange=function(){t.updateIsHidden()},this.isDocumentPresentInJsEnvironment()||this.logger.logDocumentMissingInJsEnvironment(),this.isDocumentVisibilityStatePresentInJsEnvironment()||this.logger.logDocumentVisibilityStateMissingInJsEnvironment(),this.isDocumentAddEventListenerPresentInJsEnvironment()||this.logger.logDocumentAddEventListenerMissingInJsEnvironment(),this.lastUnHiddenDate=void 0,this.isDocumentHidden=!1,this.updateIsHidden(),document.addEventListener("visibilitychange",this.onVisibilityChange)}return e.prototype.isDocumentVisibleNow=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckDocumentVisibility",(function(){if(!e.isDocumentPresentInJsEnvironment())return e.logger.logDocumentMissingInJsEnvironment(),T.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});if(!e.isDocumentVisibilityStatePresentInJsEnvironment())return e.logger.logDocumentVisibilityStateMissingInJsEnvironment(),T.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});var t="hidden"!==document.visibilityState;return T.generateOperationResult({didOperationSucceed:!0,result:t})}),t).getResult()},e.prototype.wasDocumentHiddenDuringTimeRange=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("WasDocumentHiddenDuringTimeRange",(function(){if(t.isDocumentHidden)return T.generateOperationResult({didOperationSucceed:!0,result:!0});if(void 0===t.lastUnHiddenDate)return T.generateOperationResult({didOperationSucceed:!0,result:!1});var r=Date.now()-t.lastUnHiddenDate<e;return T.generateOperationResult({didOperationSucceed:!0,result:r})}),r).getResult()},e.prototype.isDocumentPresentInJsEnvironment=function(){return null!=document},e.prototype.isDocumentVisibilityStatePresentInJsEnvironment=function(){return"visibilityState"in document},e.prototype.isDocumentAddEventListenerPresentInJsEnvironment=function(){return"addEventListener"in document},e.prototype.updateIsHidden=function(){this.isDocumentHidden="hidden"===document.visibilityState,this.isDocumentHidden||(this.lastUnHiddenDate=Date.now())},e}(),N=function(){function e(){}return e.getDocumentVisibilityChecker=function(){var e=new S;return new k(e)},e}();!function(e){e.SendBeacon="sendBeacon"}(O||(O={}));var E=function(){function e(e,t,r,o){this.navigatorPropertyChecker=e,this.navigatorAPI=t,this.xmlHTTPRequestWrapperFactory=r,this.logger=o}return e.prototype.sendBeacon=function(e,t){return function(e,t,r,o,n,i){var a=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("SendBeaconCall",(function(a){if(0===n.length)return o.logBeaconURLIsEmpty(),T.generateOperationResult({didOperationSucceed:!1,result:!1});if(0===i.length)return o.logBeaconDataIsEmpty(),T.generateOperationResult({didOperationSucceed:!1,result:!1});if(!e.hasProperty(O.SendBeacon)){o.logSendBeaconNotSupported();var l=r.generateXMLHTTPRequestWrapper();return l.open("POST",n,!0),l.send(i),a.addProperty("POSTRequestSent",!0),T.generateOperationResult({didOperationSucceed:!0,result:!0})}return t.sendBeacon(n,i),a.addProperty("BeaconSent",!0),T.generateOperationResult({didOperationSucceed:!0,result:!0})}),a).getResult()}(this.navigatorPropertyChecker,this.navigatorAPI,this.xmlHTTPRequestWrapperFactory,this.logger,e,t)},e}(),W=function(){function e(e){this.logger=e}return e.prototype.hasProperty=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckNavigatorProperty",(function(r){if(null==navigator)return t.logger.logNavigatorMissingInJSEnvironment(),T.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});r.addProperty("NavigatorPropertyChecked",e);var o=e in navigator;return r.addProperty("IsPropertyPresentInNavigatorResult",o),T.generateOperationResult({didOperationSucceed:!0,result:o})}),r).getResult()},e}(),M=function(){function e(e){this.logger=e}return e.prototype.sendBeacon=function(e,t){return null==navigator?(this.logger.logNavigatorMissingInJSEnvironment(),!1):navigator.sendBeacon(e,t)},e}(),F=function(){function e(){this.xmlHTTPRequest=new XMLHttpRequest}return e.prototype.open=function(e,t,r){this.xmlHTTPRequest.open(e,t,r)},e.prototype.send=function(e){this.xmlHTTPRequest.send(e)},e}(),x=function(){function e(){}return e.prototype.generateXMLHTTPRequestWrapper=function(){return new F},e}(),U=(function(){function e(){}e.getSendBeaconScheduler=function(){var e=new S,t=new W(e),r=new M(e),o=new x;return new E(t,r,o,e)}}(),function(){function e(e){this.logger=e}return e.prototype.getCurrentTimestamp=function(){if(null!=window)if(null!=window.performance){if(null!=window.performance.now)return window.performance.now();this.logger.logWindowPerformanceNowMissingInJSEnvironment()}else this.logger.logWindowPerformanceMissingInJSEnvironment();else this.logger.logWindowMissingInJSEnvironment()},e}()),B=function(){function e(){}return e.getTimestampRetriever=function(){var e=new S;return new U(e)},e}(),J=function(){function e(){this.elements=[]}return e.prototype.peek=function(){return this.elements.length>0?this.elements[0]:void 0},e.prototype.queue=function(e){this.elements.push(e)},e.prototype.dequeue=function(){this.elements.shift()},e}(),A=function(){function e(){}return e.createQueue=function(){return new J},e}(),V=function(){function e(e){this.logger=e,this.logger=e}return e.prototype.retrieveUserAgent=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:""});return m.startNew("RetrieveUserAgent",(function(){var t=e.getUserAgentFromNavigatorAPI();return T.generateOperationResult({didOperationSucceed:!0,result:t})}),t).getResult()},e.prototype.getUserAgentFromNavigatorAPI=function(){return"undefined"==typeof navigator?(this.logger.logNavigatorMissingInJSEnvironment(),""):navigator.userAgent},e}(),D=function(){function e(){}return e.getUserAgentRetriever=function(){return new V(new S)},e}(),L=function(){function e(){this.elements=[]}return e.prototype.peek=function(){var e=this.count();if(0!==e)return this.elements[e-1]},e.prototype.push=function(e){this.elements.push(e)},e.prototype.pop=function(){this.elements.pop()},e.prototype.count=function(){return this.elements.length},e}(),j=function(){function e(){}return e.createStack=function(){return new L},e}(),H=function(e,t){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function q(e,t){function r(){this.constructor=e}H(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var G,z=function(){function e(e,t,r,o,n){this.customProperties=e,this.profilerTrace=t,this.profilerTraceStartTimestamp=r,this.profilerProperties=o,this.elapsedProfilingTime=n}return e.prototype.getCustomProperties=function(){return this.customProperties},e.prototype.getResources=function(){return this.profilerTrace.resources},e.prototype.getFrames=function(){return this.profilerTrace.frames},e.prototype.getStacks=function(){return this.profilerTrace.stacks},e.prototype.getSamples=function(){return this.profilerTrace.samples},e.prototype.getProfilerTraceStartTimestamp=function(){return this.profilerTraceStartTimestamp},e.prototype.getProfilerProperties=function(){return this.profilerProperties},e.prototype.getElapsedProfilingTimeInMs=function(){return this.elapsedProfilingTime},e}();!function(e){e.Chrome="chrome"}(G||(G={}));var K={resources:[],samples:[],frames:[],stacks:[]},Z={name:"InvalidFrameName",resourceId:-1,line:-1,column:-1},Q=function(){function e(e,t,r,o,n,i){this.preProfilerStartChecker=e,this.jsSelfProfilingAPI=t,this.profilerInitOptions=r,this.customPropertiesRetriever=o,this.timestampRetriever=n,this.logger=i,this.profiler=void 0,this.profilerTrace=void 0,this.profilerObservers=[],this.profilerStartTimestamp=void 0,this.profilerStopTimestamp=void 0}return e.prototype.start=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("StartManualProfiler",(function(){var t=e.startProfilerImplementation();return T.generateOperationResult({didOperationSucceed:t,result:void 0})}),t)},e.prototype.startProfilerImplementation=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("StartManualProfilerInternal",(function(){if(void 0!==t.profiler)return t.logger.logProfilerAlreadyStarted(),T.generateOperationResult({didOperationSucceed:!1,result:!1});if(null!=e&&t.logger.logPostProfilerStartCallbackSpecified(),!t.preProfilerStartChecker.shouldProfilingStart())return t.logger.logPreProfilerStartCheckFailed(),T.generateOperationResult({didOperationSucceed:!0,result:!0});if(null==t.profilerInitOptions.maximumNumberOfSamplesToTake)return t.logger.logMaxBufferSizeNotFixed(),T.generateOperationResult({didOperationSucceed:!1,result:!1});t.logger.logSamplingIntervalUsedForStartingProfiler(t.profilerInitOptions.samplingIntervalInMs),t.logger.logMaxBufferSize(t.profilerInitOptions.maximumNumberOfSamplesToTake);var r=t.jsSelfProfilingAPI.profile({sampleInterval:t.profilerInitOptions.samplingIntervalInMs,maxBufferSize:t.profilerInitOptions.maximumNumberOfSamplesToTake});return t.logger.logProfilerStartPromiseCreated(),r.then((function(r){t.profilerStartTimestamp=t.timestampRetriever.getCurrentTimestamp(),t.logger.logProfilerStartPromiseResolved(),t.profiler=r,null!=e&&(t.logger.logInvokingPostProfilerStartCallback(),e())}),(function(e){t.logger.logProfilerStartPromiseRejected(e),t.profiler=void 0})),T.generateOperationResult({didOperationSucceed:!0,result:!0})}),r).getResult()},e.prototype.stop=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("StopManualProfiler",(function(){var t=e.stopProfilerImplementation();return T.generateOperationResult({didOperationSucceed:t,result:void 0})}),t)},e.prototype.stopProfilerImplementation=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("StopManualProfilerInternal",(function(r){return null==t.profiler?(t.logger.logProfilerInstanceIsUndefined(),T.generateOperationResult({didOperationSucceed:!1,result:!1})):(0===t.profilerObservers.length&&t.logger.logNoProfilerObserverSubscribed(),null!=e&&t.logger.logPostProfilerStopCallbackSpecified(),t.logger.logProfilerStopGoingToBeInvoked(),t.profiler.stop().then((function(o){if(t.profilerStopTimestamp=t.timestampRetriever.getCurrentTimestamp(),t.logger.logProfilerStopPromiseResolved(),t.profilerTrace=o,t.profilerObservers.length>0){var n={};if(null!=t.customPropertiesRetriever&&"getCustomProperties"in t.customPropertiesRetriever&&"function"==typeof t.customPropertiesRetriever.getCustomProperties){var i=t.customPropertiesRetriever.getCustomProperties();null!=i?i.forEach((function(e,r){null==r?t.logger.logCustomPropertyKeyIsNull():null==e?t.logger.logCustomPropertyValueIsNull():n[r]=e})):t.logger.logNullOrUndefinedCustomProperties()}else t.logger.logNullOrUndefinedCustomPropertiesRetriever();var a=-1;void 0!==t.profilerStartTimestamp&&void 0!==t.profilerStopTimestamp&&(a=t.profilerStopTimestamp-t.profilerStartTimestamp);r.addProperty("ElapsedProfilingTime",a);var l=new z(n,t.profilerTrace,void 0!==t.profilerStartTimestamp?t.profilerStartTimestamp:-1,t.profilerInitOptions,a);t.profilerObservers.forEach((function(e){e.onProfilerStop(l)}))}t.profiler=void 0,null!=e&&(t.logger.logPostProfilerStopCallbackInvoked(),e())}),(function(e){t.logger.logProfilerStopPromiseRejected(e),t.profiler=void 0,t.profilerTrace=void 0})),t.profilerStartTimestamp=void 0,t.profilerStopTimestamp=void 0,T.generateOperationResult({didOperationSucceed:!0,result:!0}))}),r).getResult()},e.prototype.subscribe=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("SubscribeProfilerObserver",(function(){return t.profilerObservers.push(e),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r)},e}(),X=function(e){function t(t,r,o,n,i,a,l){var s=e.call(this,t,r,o,i,a,l)||this;return s.timerJobScheduler=n,s.postProfilerStartCallback=function(){s.logger.logPostTimedStartProfilerStartCallbackInvoked(),null!=s.profilerInitOptions.profilingIntervalInMs?(s.timerJobScheduler.setTimerJob(s.postTimerStopCallBack,s.profilerInitOptions.profilingIntervalInMs),s.logger.logTimerJobToStopProfilerSet()):s.logger.logProfilingIntervalIsUndefined()},s.postTimerStopCallBack=function(){s.logger.logTimedProfilerStopCallbackInvoked(),s.stop(!0)},s}return q(t,e),t.prototype.start=function(){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("StartTimedProfiler",(function(){return e.prototype.startProfilerImplementation.call(t,t.postProfilerStartCallback),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r)},t.prototype.stop=function(t){var r=this,o=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("StopTimedProfiler",(function(){return null==t||t||r.logger.logTimedProfilerIsBeingStoppedManually(),e.prototype.stopProfilerImplementation.call(r),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o)},t}(Q),Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.postProfilerStopCallback=function(){null!=t.profilerInitOptions.idleIntervalInMs?t.timerJobScheduler.setTimerJob(t.postTimerStopCallback,t.profilerInitOptions.idleIntervalInMs):t.logger.logNullOrUndefinedIdleInterval()},t.postTimerStopCallback=function(){t.start()},t}return q(t,e),t.prototype.start=function(){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("StartContinuousProfiler",(function(){return e.prototype.start.call(t),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r)},t.prototype.stop=function(){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("StopContinuousProfiler",(function(){return e.prototype.stopProfilerImplementation.call(t,t.postProfilerStopCallback),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r)},t}(X),$=function(e){function t(t,r,o,n,i,a,l){var s=e.call(this,t,r,o,i,a,l)||this;return s.timerJobScheduler=n,s.postProfilerStartCallback=function(){s.timerJobScheduler.setTimerJob((function(){s.stop(!0)}),1e4)},s.postProfilerStopCallback=function(){s.start()},s}return q(t,e),t.prototype.start=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:void 0});return m.startNew("StartFullSessionProfiler",(function(){return e.startProfilerImplementation(e.postProfilerStartCallback),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t).getResult()},t.prototype.stop=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});return m.startNew("StopFullSessionProfiler",(function(){var r=void 0;return void 0!==e&&e&&(r=t.postProfilerStopCallback),t.stopProfilerImplementation(r),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r).getResult()},t}(Q),ee=function(){function e(){}return e.prototype.stop=function(){return Promise.resolve(K)},e}(),te=function(){function e(){}return e.prototype.profile=function(e){var t=T.generateOperationResult({didOperationSucceed:!1,result:Promise.resolve(new ee)});return m.startNew("JSSelfProfilingAPI-Profile",(function(){var t=window.performance.profile(e);return T.generateOperationResult({didOperationSucceed:!0,result:t})}),t).getResult()},e}(),re=function(){function e(e,t){this.documentVisibilityChecker=e,this.shouldProfilerStartInAHiddenDocument=t}return e.prototype.shouldProfilingStart=function(){return!!this.isDocumentVisibleNow()||this.shouldProfilerStartInAHiddenDocument},e.prototype.isDocumentVisibleNow=function(){return this.documentVisibilityChecker.isDocumentVisibleNow()},e}(),oe=function(){function e(){}return e.buildProfiler=function(e,t,r,o,i,a){var l=T.generateOperationResult({didOperationSucceed:!1,result:new n(a)});return m.startNew("BuildProfilerInstance",(function(){a.logProfilerTypeToBuild(e),a.logProfilerInitOptions(t);var l=N.getDocumentVisibilityChecker(),s=new re(l,null!=i.shouldProfilingStartInAHiddenDocument&&i.shouldProfilingStartInAHiddenDocument),u=new te,c=R.getTimerJobScheduler(),p=B.getTimestampRetriever(),d=void 0,g=!1,f=!1,m=!1;switch(e){case 0:var h=new Q(s,u,t,r,p,a);h.subscribe(o),m=!0,d=h,g=!0;break;case 1:var v=new X(s,u,t,c,r,p,a);v.subscribe(o),m=!0,d=v,g=!0;break;case 2:var S=new Y(s,u,t,c,r,p,a);S.subscribe(o),m=!0,d=S,g=!0;break;case 3:var y=new $(s,u,t,c,r,p,a);y.subscribe(o),m=!0,d=y,g=!0;break;default:a.logMissingProfilerImplementation(e),d=new n(a),g=!1,f=!0}void 0===d&&a.logNoProfilerInstanceBuilt(),void 0===d||m||a.logCreateProfilerDidNotSubscribeProfilerObserver();var O=void 0===d?new n(a):d;return T.generateOperationResult({didOperationSucceed:g,result:O,didOperationFailUnexpectedly:f})}),l).getResult()},e}(),ne=function(){function e(e,t,r,o,n,i){this.validator=e,this.logger=t,this.optionsValidatorFactory=r,this.profilerInitOptionsFixerFactory=o,this.profilerObserver=n,this.packageInitOptions=i}return e.prototype.createProfiler=function(e,t,r){var o=this,i=T.generateOperationResult({didOperationSucceed:!1,result:new n(this.logger)});return m.startNew("CreateProfiler",(function(){if(!o.validator.areValidationsSuccessful())return o.logger.logFailingValidationsInProfilerFactory(),T.generateOperationResult({didOperationSucceed:!1,result:new n(o.logger)});if(!o.optionsValidatorFactory.retrieveValidator(e).isValid(t))return o.logger.logProfilerInitOptionsValidationFailed(),T.generateOperationResult({didOperationSucceed:!1,result:new n(o.logger)});var i=o.profilerInitOptionsFixerFactory.getFixerForProfilerType(e);i.fixProfilerInitOptions(t);var a=i.retrieveFixedProfilerInitOptions();if(null==a)return o.logger.logUnableToFixUpProfilerInitOptions(),T.generateOperationResult({didOperationSucceed:!1,result:new n(o.logger)});var l=oe.buildProfiler(e,a,r,o.profilerObserver,o.packageInitOptions,o.logger);return T.generateOperationResult({didOperationSucceed:!0,result:l})}),i).getResult()},e}(),ie=function(){function e(e,t,r){this.featureChecker=e,this.supportedEnvironmentChecker=t,this.logger=r}return e.prototype.areValidationsSuccessful=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckProfilerFactoryValidations",(function(){return e.isFeatureEnabled()?e.isSupportedEnvironmentForProfiling()?T.generateOperationResult({didOperationSucceed:!0,result:!0}):(e.logger.logProfilingIsNotSupportedEnvironment(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.logger.logProfilingIsNotEnabled(),T.generateOperationResult({didOperationSucceed:!0,result:!1}))}),t).getResult()},e.prototype.isFeatureEnabled=function(){if(null==this.featureChecker)return this.logger.logFeatureCheckerIsNullOrUndefined(),!1;if(!("isProfilingEnabled"in this.featureChecker))return this.logger.logMissingIsProfilingEnabledOnFeatureChecker(),!1;return"function"!=typeof this.featureChecker.isProfilingEnabled?(this.logger.logFeatureCheckerIsProfilingEnabledNotAFunction(),!1):this.featureChecker.isProfilingEnabled()},e.prototype.isSupportedEnvironmentForProfiling=function(){return this.supportedEnvironmentChecker.isSupportedEnvironment()},e}(),ae=function(){function e(e,t,r){this.userAgentRetriever=e,this.browserUtils=t,this.logger=r}return e.prototype.isProfilingSupportedInJSEnvironment=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckSupportedBrowser",(function(){var t=e.userAgentRetriever.retrieveUserAgent();if(!e.browserUtils.isBrowserChromiumBased(t))return e.logger.logBrowserUserAgentNotChromiumBased(),T.generateOperationResult({didOperationSucceed:!0,result:!1});e.logger.logBrowserChromiumBased();var r=e.browserUtils.parseChromeMajorVersionNumber(t);return e.logger.logChromiumBrowserMajorVersionNumber(r),r<80?(e.logger.logUnsupportedChromiumMajorVersionNumber(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):T.generateOperationResult({didOperationSucceed:!0,result:!0})}),t).getResult()},e}(),le=function(){function e(e,t,r,o,n,i){this.supportedBrowserChecker=e,this.supportedOperatingSystemChecker=t,this.jsSelfProfilingAPIAvailabilityChecker=r,this.crossOriginSiteIsolationRequirementChecker=o,this.crossOriginSiteIsolationChecker=n,this.logger=i}return e.prototype.isSupportedEnvironment=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckSupportedEnvironment",(function(){return e.isSupportedBrowser()?e.isSupportedOperatingSystem()?e.isJSSelfProfilingAPIAvailable()?e.shouldCheckForCrossOriginSiteIsolation()?e.isCrossOriginSiteIsolated()?T.generateOperationResult({didOperationSucceed:!0,result:!0}):(e.logger.logSiteNotCrossOriginIsolated(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):T.generateOperationResult({didOperationSucceed:!0,result:!0}):(e.logger.logJSSelfProfilingAPIUnavailable(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.logger.logUnsupportedOperatingSystem(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.logger.logUnsupportedBrowser(),T.generateOperationResult({didOperationSucceed:!0,result:!1}))}),t).getResult()},e.prototype.isSupportedBrowser=function(){return this.supportedBrowserChecker.isProfilingSupportedInJSEnvironment()},e.prototype.isSupportedOperatingSystem=function(){return this.supportedOperatingSystemChecker.isSupportedOperatingSystem()},e.prototype.isJSSelfProfilingAPIAvailable=function(){return this.jsSelfProfilingAPIAvailabilityChecker.isJSSelfProfilingAPIAvailable()},e.prototype.shouldCheckForCrossOriginSiteIsolation=function(){return this.crossOriginSiteIsolationRequirementChecker.shouldCheckForCrossOriginIsolation()},e.prototype.isCrossOriginSiteIsolated=function(){return this.crossOriginSiteIsolationChecker.isSiteCrossOriginIsolated()},e}(),se=function(){function e(e){this.userAgentRetriever=e}return e.prototype.isSupportedOperatingSystem=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:!1});return m.startNew("SupportedOperatingSystemCheck",(function(){var t=e.isOperatingSystemWindows();return T.generateOperationResult({didOperationSucceed:!0,result:t})}),t).getResult()},e.prototype.isOperatingSystemWindows=function(){return this.userAgentRetriever.retrieveUserAgent().toLowerCase().includes("win")},e}(),ue=function(){function e(e){this.logger=e}return e.prototype.isJSSelfProfilingAPIAvailable=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckForJSSelfProfilingAPI",(function(){return null==window?(e.logger.logWindowMissingInJSEnvironment(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):null==window.performance?(e.logger.logWindowPerformanceMissingInJSEnvironment(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):null==window.performance.profile?(e.logger.logWindowPerformanceProfileNotPresentInJSEnvironment(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):T.generateOperationResult({didOperationSucceed:!0,result:!0})}),t).getResult()},e}(),ce=function(){function e(e){this.logger=e}return e.prototype.isSupportedEnvironment=function(){return this.logger.logNullSupportedEnvironmentCheckerInvoked(),!1},e}(),pe=function(){function e(e,t){this.userAgentRetriever=e,this.browserUtils=t}return e.prototype.shouldCheckForCrossOriginIsolation=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("ShouldCheckForCrossOriginIsolation",(function(t){var r=e.userAgentRetriever.retrieveUserAgent(),o=e.browserUtils.isBrowserChromiumBased(r);if(t.addProperty("ChromiumBasedBrowser",o),!o)return T.generateOperationResult({didOperationSucceed:!0,result:!1});var n=e.browserUtils.parseChromeMajorVersionNumber(r);t.addProperty("ChromeMajorVersionNumber",n);var i=n>=88;return t.addProperty("IsCrossOriginSiteIsolationCheckRequired",i),T.generateOperationResult({didOperationSucceed:!0,result:i})}),t).getResult()},e}(),de=function(){function e(){}return e.build=function(e){var t=T.generateOperationResult({didOperationSucceed:!1,result:new ce(e)});return m.startNew("BuildSupportedEnvironmentChecker",(function(){var t=D.getUserAgentRetriever(),r=y.getBrowserUtils(),o=new ae(t,r,e),n=new se(t),i=new ue(e),a=new pe(t,r),l=w.getChecker();return T.generateOperationResult({didOperationSucceed:!0,result:new le(o,n,i,a,l,e)})}),t).getResult()},e}(),ge=function(){function e(e){this.logger=e}return e.prototype.isValid=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckSamplingInterval",(function(){return null==e?(t.logger.logProfilerInitOptionsNullOrUndefined(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):(t.logger.logSamplingInterval(e.samplingIntervalInMs),e.samplingIntervalInMs<=0?(t.logger.logSamplingIntervalIsLessThanOrEqualToZero(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.samplingIntervalInMs<16&&t.logger.logSamplingIntervalLessThanMinimumSupportedSamplingInterval(),T.generateOperationResult({didOperationSucceed:!0,result:!0})))}),r).getResult()},e}(),fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.prototype.isValid=function(t){var r=this,o=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckMaxBufferSizeIfSpecified",(function(){return null==t?(r.logger.logProfilerInitOptionsNullOrUndefined(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):e.prototype.isValid.call(r,t)?r.isMaxBufferSizeValidIfSpecified(t)?T.generateOperationResult({didOperationSucceed:!0,result:!0}):(r.logger.logMaxBufferValidationFailed(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):(r.logger.logSamplingIntervalValidationCheckFailed(),T.generateOperationResult({didOperationSucceed:!0,result:!1}))}),o).getResult()},t.prototype.isMaxBufferSizeValidIfSpecified=function(e){return null==e.maximumNumberOfSamplesToTake?(this.logger.logMaxBufferSizeNotSpecified(),!0):!(e.maximumNumberOfSamplesToTake<=0)||(this.logger.logMaxBufferSizeLessThanOrEqualToZero(),!1)},t}(ge),me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.prototype.isValid=function(t){var r=this,o=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckProfilingIntervalIfSpecified",(function(){return null==t?(r.logger.logProfilerInitOptionsNullOrUndefined(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):e.prototype.isValid.call(r,t)?r.isProfilingIntervalValid(t)?r.isProfilingIntervalGreaterThanSamplingInterval(t)?T.generateOperationResult({didOperationSucceed:!0,result:!0}):T.generateOperationResult({didOperationSucceed:!0,result:!1}):(r.logger.logProfilingIntervalValidationFailed(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):(r.logger.logManualProfilerValidationFailed(),T.generateOperationResult({didOperationSucceed:!0,result:!1}))}),o).getResult()},t.prototype.isProfilingIntervalValid=function(e){return null==e.profilingIntervalInMs?(this.logger.logProfilingIntervalNullOrUndefined(),!1):!(e.profilingIntervalInMs<=0)||(this.logger.logProfilingIntervalLessThanOrEqualToZero(),!1)},t.prototype.isProfilingIntervalGreaterThanSamplingInterval=function(e){return null==e.profilingIntervalInMs?(this.logger.logProfilingIntervalNullOrUndefined(),!1):!(e.profilingIntervalInMs<e.samplingIntervalInMs)||(this.logger.logProfilingIntervalLessThanSamplingInterval(),!1)},t}(fe),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.prototype.isValid=function(t){var r=this,o=T.generateOperationResult({didOperationSucceed:!1,result:!1});return m.startNew("CheckIdleIntervalIfSpecified",(function(){return null==t?(r.logger.logProfilerInitOptionsNullOrUndefined(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):e.prototype.isValid.call(r,t)?r.isIdleIntervalInValid(t)?T.generateOperationResult({didOperationSucceed:!0,result:!0}):(r.logger.logIdleIntervalValidationFailed(),T.generateOperationResult({didOperationSucceed:!0,result:!1})):(r.logger.logTimedProfilerValidationFailed(),T.generateOperationResult({didOperationSucceed:!0,result:!1}))}),o).getResult()},t.prototype.isIdleIntervalInValid=function(e){return null==e.idleIntervalInMs?(this.logger.logIdleIntervalIsNullOrUndefined(),!1):!(e.idleIntervalInMs<=0)||(this.logger.logIdleIntervalIsLessThanOrEqualToZero(),!1)},t}(me),he=function(){function e(e){this.logger=e}return e.prototype.isValid=function(e){return this.logger.logNullJSCPUProfilerInitOptionsValidatorInvoked(),!1},e}(),ve=function(){function e(e){this.logger=e}return e.prototype.retrieveValidator=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:new he(this.logger)});return m.startNew("RetrieveValidator",(function(r){switch(r.addProperty("ProfilerType",e),e){case 0:return T.generateOperationResult({didOperationSucceed:!0,result:new fe(t.logger)});case 1:return T.generateOperationResult({didOperationSucceed:!0,result:new me(t.logger)});case 2:return T.generateOperationResult({didOperationSucceed:!0,result:new Te(t.logger)});case 3:return T.generateOperationResult({didOperationSucceed:!0,result:new ge(t.logger)});default:return r.addLog("Missing validator implementation for profiler type"),T.generateOperationResult({didOperationSucceed:!1,result:new ge(t.logger),didOperationFailUnexpectedly:!0})}}),r).getResult()},e}(),Se=function(){function e(e){this.logger=e,this.didProfilerInitOptionsGetFixed=!1,this.fixedProfilerInitOptions=void 0}return e.prototype.fixProfilerInitOptions=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("FixMaxBufferSize",(function(){return null==e?(t.logger.logNullOrUndefinedProfilerInitOptions(),T.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):(t.fixedProfilerInitOptions=e,null==t.fixedProfilerInitOptions.maximumNumberOfSamplesToTake&&(t.logger.logMaxBufferSizeFixedToDefaultSize(),t.fixedProfilerInitOptions.maximumNumberOfSamplesToTake=2e5),t.didProfilerInitOptionsGetFixed=!0,T.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),r)},e.prototype.retrieveFixedProfilerInitOptions=function(){return this.didProfilerInitOptionsGetFixed?this.didProfilerInitOptionsGetFixed=!1:this.logger.logMaxBufferSizeWasNotFixedBeforeRetrieval(),this.fixedProfilerInitOptions},e}(),ye=function(){function e(e){this.logger=e,this.profilerInitOptionsToLoopBack=void 0}return e.prototype.fixProfilerInitOptions=function(e){this.logger.logLoopBackFixerFixProfilerInitOptionsInvoked(),null!=e&&(this.profilerInitOptionsToLoopBack=e)},e.prototype.retrieveFixedProfilerInitOptions=function(){return this.logger.logLoopBackFixerRetrieveFixedProfilerInitOptionsInvoked(),this.profilerInitOptionsToLoopBack},e}(),Oe=function(){function e(e){this.logger=e}return e.prototype.getFixerForProfilerType=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:new ye(this.logger)});return m.startNew("GetFixerForProfileType",(function(){t.logger.logFixerForProfilerType(e);var r=new ye(t.logger),o=!1;switch(e){case 0:case 1:case 2:case 3:o=!0,r=new Se(t.logger);break;default:t.logger.logMissingProfilerInitOptionsFixerImplementation()}return T.generateOperationResult({didOperationSucceed:o,result:r})}),r).getResult()},e}(),Ie=function(){function e(e){this.logger=e}return e.prototype.createProfiler=function(e,t){return this.logger.logNullJSCPUProfilerFactoryInvoked(),new n(this.logger)},e}(),Pe=function(){function e(e,t,r,o,n,i){this.profilerTraceTransformer=e,this.deObfuscationInfo=t,this.idleTimeJobScheduler=r,this.documentVisibilityChecker=o,this.shouldProcessProfileCapturedInAHiddenDocument=n,this.logger=i}return e.prototype.onProfilerStop=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("OnProfilerStop",(function(){var r=e.getProfilerProperties().profilingIntervalInMs;return null!=r&&t.documentVisibilityChecker.wasDocumentHiddenDuringTimeRange(r)&&!t.shouldProcessProfileCapturedInAHiddenDocument?(t.logger.logNotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling(),T.generateOperationResult({didOperationSucceed:!0,result:void 0})):(t.idleTimeJobScheduler.scheduleJobForIdleTime((function(){t.profilerTraceTransformer.transform(e),t.profilerTraceTransformer.retrieveCallTrees(),t.logger.logProfilerTrace(e,t.deObfuscationInfo)})),T.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),r)},e}(),Ce=function(){function e(e,t,r,o,n){this.traceToCallTreesConverter=e,this.callTreesMerger=t,this.callTreesFilterer=r,this.callTreeFilteringThresholdInMs=o,this.logger=n,this.transformCalledBeforeRetrieveCallTrees=!1,this.profilerTrace=void 0,this.callTreesToReturn=[]}return e.prototype.transform=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("TransformProfilerTrace",(function(r){t.profilerTrace=e,t.traceToCallTreesConverter.buildCallTrees(t.profilerTrace);var o=t.traceToCallTreesConverter.retrieveBuiltCallTrees();r.addProperty("BuiltCallTreesCount",o.length),t.callTreesMerger.mergeCallTrees(o);var n=t.callTreesMerger.retrieveMergedCallTrees();r.addProperty("MergedCallTreesCount",n.length),t.callTreesFilterer.filterCallTrees(n,t.callTreeFilteringThresholdInMs),t.callTreesToReturn=t.callTreesFilterer.retrieveFilteredCallTrees();return r.addProperty("FilteredCallTresCount",t.callTreesToReturn.length),t.transformCalledBeforeRetrieveCallTrees=!0,T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r)},e.prototype.retrieveCallTrees=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:[]});return m.startNew("RetrieveCallTrees",(function(){return e.transformCalledBeforeRetrieveCallTrees?(e.transformCalledBeforeRetrieveCallTrees=!1,T.generateOperationResult({didOperationSucceed:!0,result:e.callTreesToReturn})):(e.logger.logRetrieveCallTreesCalledBeforeTransform(),T.generateOperationResult({didOperationSucceed:!1,result:[]}))}),t).getResult()},e}(),_e=function(){function e(e,t,r){this.stacksBuilder=e,this.stacksToCallTreesConverter=t,this.logger=r,this.didBuildCallTreesGetCalledBeforeRetrieve=!1,this.callTrees=[]}return e.prototype.buildCallTrees=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("BuildCallTrees",(function(){t.didBuildCallTreesGetCalledBeforeRetrieve=!0,t.stacksBuilder.buildStacks(e);var r=t.stacksBuilder.retrieveStacks(),o=e.getCustomProperties();return t.stacksToCallTreesConverter.convertStacksToCallTrees(o,r),t.callTrees=t.stacksToCallTreesConverter.retrieveConvertedCallTrees(),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r)},e.prototype.retrieveBuiltCallTrees=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:[]});return m.startNew("RetrieveBuiltCallTrees",(function(){return e.didBuildCallTreesGetCalledBeforeRetrieve?(e.didBuildCallTreesGetCalledBeforeRetrieve=!1,T.generateOperationResult({didOperationSucceed:!0,result:e.callTrees})):(e.logger.logRetrieveBuiltCallTreesBeforeBuildCallTrees(),T.generateOperationResult({didOperationSucceed:!1,result:[]}))}),t).getResult()},e}(),we=function(){function e(){}return e.prototype.peek=function(){},e.prototype.pop=function(){},e}(),be=function(){function e(){this.profilerFrames=[]}return e.prototype.peek=function(){var e=this.profilerFrames.length;if(0!==e)return this.profilerFrames[e-1]},e.prototype.pop=function(){this.profilerFrames.pop()},e.prototype.push=function(e){this.profilerFrames.push(e)},e}(),Re=function(){function e(e,t,r,o,n,i){this.profilerFrame=e,this.startTime=t,this.totalExecutionTime=r,this.lastObservedTimestamp=o,this.resourceName=n,this.logger=i,this.childrenNodes=[],t<0&&this.logger.logInvalidFrameNodeStartTime(),r<0&&this.logger.logInvalidFrameNodeExecutionTime()}return e.prototype.addChildNode=function(e){this.childrenNodes.push(e)},e.prototype.getFrameOnlyExecutionTimeInMs=function(){var e=this.getSubTreeExecutionTimeInMs();return this.totalExecutionTime-e},e.prototype.getSubTreeExecutionTimeInMs=function(){var e=0;return this.childrenNodes.forEach((function(t){e+=t.getTotalExecutionTimeInMs()})),e<0&&this.logger.logNegativeSubTreeExecutionTime(),e},e.prototype.getTotalExecutionTimeInMs=function(){return this.totalExecutionTime},e.prototype.getFrame=function(){return this.profilerFrame},e.prototype.getChildrenNodes=function(){return this.childrenNodes},e.prototype.getStartTimeInMs=function(){return this.startTime},e.prototype.getLastObservedTimestamp=function(){return this.lastObservedTimestamp},e.prototype.getResourceName=function(){return this.resourceName},e.prototype.setTotalExecutionTime=function(e){e<0&&this.logger.logInvalidNewFrameNodeExecutionTime(),this.totalExecutionTime=e},e.prototype.setLastObservedTimestamp=function(e){this.lastObservedTimestamp=e},e}(),ke=function(){function e(e){this.logger=e}return e.prototype.peek=function(){this.logger.logPeekOnNullExecutionStackInvoked()},e.prototype.pop=function(){this.logger.logPopOnNullExecutionStackInvoked()},e}(),Ne=function(){function e(e,t){this.profilerTrace=e,this.logger=t,this.buildStackCalled=!1,this.builtStack=void 0}return e.prototype.buildStack=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("BuildStack",(function(r){if(t.buildStackCalled=!0,null==e.stackId){t.builtStack=new we;return r.addProperty("EmptyStackBuilt",!0),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}var o=t.profilerTrace.getStacks();if(0===o.length)return t.logger.logEmptyStacks(),T.generateOperationResult({didOperationSucceed:!1,result:void 0});var n=t.profilerTrace.getFrames();if(0===n.length)return t.logger.logEmptyFrames(),T.generateOperationResult({didOperationSucceed:!1,result:void 0});for(var i=new be,a=e.stackId,l=0,s=!1,u=[];;){if(l>o.length){t.logger.logForciblyExitingLoopWhileBuildingStack(),s=!0;break}l+=1;var c=o[a],p=n[c.frameId];if(u.unshift(p),null==c.parentId)break;a=c.parentId}var d=e.timestamp,g=d,f=t.profilerTrace.getResources();return u.forEach((function(e){var r=new Re(e,d,0,g,f[e.resourceId],t.logger);i.push(r)})),s?T.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:void 0}):(t.builtStack=i,T.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),r)},e.prototype.retrieveStack=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:new ke(this.logger)});return m.startNew("RetrieveStack",(function(){return e.buildStackCalled?void 0===e.builtStack?(e.logger.logExecutionStackNeverBuilt(),T.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:new ke(e.logger)})):(e.buildStackCalled=!1,T.generateOperationResult({didOperationSucceed:!0,result:e.builtStack})):(e.logger.logRetrieveStackCalledBeforeBuildStack(),T.generateOperationResult({didOperationSucceed:!1,result:new ke(e.logger)}))}),t).getResult()},e}(),Ee=function(){function e(e,t,r,o){this.sampleSorter=e,this.sampleFilterer=t,this.shouldKeepSamplesOutsideOfProfilingInterval=r,this.logger=o,this.buildStacksCalled=!1,this.builtExecutionStacks=void 0}return e.prototype.buildStacks=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("BuildStacks",(function(){t.buildStacksCalled=!0;var r=e.getSamples(),o=t.sampleSorter.sortSamples(r),n=e.getProfilerProperties().profilingIntervalInMs;return null==n||t.shouldKeepSamplesOutsideOfProfilingInterval||(t.sampleFilterer.filterSamples(o,n),o=t.sampleFilterer.retrieveFilteredSamples()),t.builtExecutionStacks=t.samplesToStacks(o,e),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r)},e.prototype.retrieveStacks=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:[]});return m.startNew("RetrieveStacks",(function(){return e.buildStacksCalled?void 0===e.builtExecutionStacks?T.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:[]}):(e.buildStacksCalled=!1,T.generateOperationResult({didOperationSucceed:!0,result:e.builtExecutionStacks})):(e.logger.logRetrieveStacksCalledBeforeBuildStacks(),T.generateOperationResult({didOperationSucceed:!1,result:[]}))}),t).getResult()},e.prototype.samplesToStacks=function(e,t){var r=this,o=T.generateOperationResult({didOperationSucceed:!1,result:[]});return m.startNew("ConvertSamplesToStacks",(function(){var o=[],n=new Ne(t,r.logger);return e.forEach((function(e){n.buildStack(e),o.push(n.retrieveStack())})),T.generateOperationResult({didOperationSucceed:!0,result:o})}),o).getResult()},e}(),We=function(){function e(){}return e.prototype.sortSamples=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:[]});return m.startNew("SortSamples",(function(){var r=e.sort(t.sortSampleByTimestamp);return T.generateOperationResult({didOperationSucceed:!0,result:r})}),r).getResult()},e.prototype.sortSampleByTimestamp=function(e,t){var r=T.generateOperationResult({didOperationSucceed:!1,result:0});return m.startNew("CustomSampleSort",(function(){return e.timestamp>t.timestamp?T.generateOperationResult({didOperationSucceed:!0,result:1}):t.timestamp>e.timestamp?T.generateOperationResult({didOperationSucceed:!0,result:-1}):T.generateOperationResult({didOperationSucceed:!0,result:0})}),r).getResult()},e}(),Me=function(){function e(e){this.logger=e,this.logger.logNullFrameNodeCreated()}return e.prototype.addChildNode=function(e){},e.prototype.getFrameOnlyExecutionTimeInMs=function(){return-1},e.prototype.getSubTreeExecutionTimeInMs=function(){return-1},e.prototype.getTotalExecutionTimeInMs=function(){return-1},e.prototype.getFrame=function(){return Z},e.prototype.getChildrenNodes=function(){return[]},e.prototype.getStartTimeInMs=function(){return-1},e.prototype.getLastObservedTimestamp=function(){return-1},e.prototype.getResourceName=function(){return"InvalidResourceName"},e.prototype.setTotalExecutionTime=function(e){},e.prototype.setLastObservedTimestamp=function(e){},e}(),Fe=function(){function e(e){this.logger=e,this.logger.logNullCallTreeIteratorCreated()}return e.prototype.getNext=function(){return new Me(this.logger)},e.prototype.hasMore=function(){return!1},e}(),xe=function(){function e(e){this.logger=e}return e.prototype.getDepthFirstIterator=function(){return this.logger.logNullCallTreeDepthFirstIteratorInvoked(),new Fe(this.logger)},e.prototype.getLeftMostNodesIterator=function(){return this.logger.logNullCallTreeLeftMostNodesIteratorInvoked(),new Fe(this.logger)},e.prototype.getRightMostNodesIterator=function(){return this.logger.logNullCallTreeRightMostNodesIteratorInvoked(),new Fe(this.logger)},e.prototype.getTotalExecutionTimeInMs=function(){return this.logger.logNullCallTreeGetTotalExecutionTimeInvoked(),-1},e.prototype.getCustomProperties=function(){return this.logger.logNullCallTreeGetCustomPropertiesInvoked(),{}},e}();function Ue(e,t){return e.name===t.name&&e.resourceId===t.resourceId&&e.line===t.line&&e.column===t.column}var Be=function(){function e(){}return e.prototype.addChildNode=function(e){},e.prototype.getFrameOnlyExecutionTimeInMs=function(){return-1},e.prototype.getSubTreeExecutionTimeInMs=function(){return-1},e.prototype.getTotalExecutionTimeInMs=function(){return 0},e.prototype.getFrame=function(){return Z},e.prototype.getChildrenNodes=function(){return[]},e.prototype.getStartTimeInMs=function(){return-1},e.prototype.getLastObservedTimestamp=function(){return-1},e.prototype.getResourceName=function(){return"InvalidResourceName"},e.prototype.setTotalExecutionTime=function(e){},e.prototype.setLastObservedTimestamp=function(e){},e}(),Je=function(){function e(e){this.nodesToIterate=j.createStack(),e instanceof Be||this.nodesToIterate.push(e)}return e.prototype.getNext=function(){var e=this.nodesToIterate.peek();if(void 0!==e){this.nodesToIterate.pop();for(var t=e.getChildrenNodes(),r=t.length-1;r>=0;r-=1){Ue(t[r].getFrame(),Z)||this.nodesToIterate.push(t[r])}return e}},e.prototype.hasMore=function(){return 0!==this.nodesToIterate.count()},e}(),Ae=function(){function e(e){this.nodesToIterate=A.createQueue(),this.nodesToIterate.queue(e)}return e.prototype.getNext=function(){var e=this.nodesToIterate.peek();if(void 0!==e){var t=e.getChildrenNodes();return t.length>0&&this.nodesToIterate.queue(t[0]),this.nodesToIterate.dequeue(),e}},e.prototype.hasMore=function(){return void 0!==this.nodesToIterate.peek()},e}(),Ve=function(){function e(e){this.nodesToIterate=A.createQueue(),this.nodesToIterate.queue(e)}return e.prototype.getNext=function(){var e=this.nodesToIterate.peek();if(void 0!==e){var t=e.getChildrenNodes();return t.length>0&&this.nodesToIterate.queue(t[t.length-1]),this.nodesToIterate.dequeue(),e}},e.prototype.hasMore=function(){return void 0!==this.nodesToIterate.peek()},e}(),De=function(){function e(e,t,r){this.rootNode=e,this.customProperties=t,this.logger=r,this.fallbackResult=T.generateOperationResult({didOperationSucceed:!1,result:new Fe(this.logger)})}return e.prototype.getDepthFirstIterator=function(){var e=this;return m.startNew("GetDepthFirstIterator",(function(){return T.generateOperationResult({didOperationSucceed:!0,result:new Je(e.rootNode)})}),this.fallbackResult).getResult()},e.prototype.getLeftMostNodesIterator=function(){var e=this;return m.startNew("GetCallTreeLeftMostNodesIterator",(function(){return T.generateOperationResult({didOperationSucceed:!0,result:new Ae(e.rootNode)})}),this.fallbackResult).getResult()},e.prototype.getRightMostNodesIterator=function(){var e=this;return m.startNew("GetCallTreeRightMostNodesIterator",(function(){return T.generateOperationResult({didOperationSucceed:!0,result:new Ve(e.rootNode)})}),this.fallbackResult).getResult()},e.prototype.getTotalExecutionTimeInMs=function(){return this.rootNode.getTotalExecutionTimeInMs()},e.prototype.getCustomProperties=function(){return this.customProperties},e}(),Le=function(){function e(){}return e.prototype.getNext=function(){},e.prototype.hasMore=function(){return!1},e}(),je=function(){function e(){}return e.prototype.getDepthFirstIterator=function(){return new Le},e.prototype.getLeftMostNodesIterator=function(){return new Le},e.prototype.getRightMostNodesIterator=function(){return new Le},e.prototype.getTotalExecutionTimeInMs=function(){return-1},e.prototype.getCustomProperties=function(){return{}},e}(),He=function(){function e(e,t){this.customProperties=e,this.logger=t,this.isConvertCalled=!1,this.convertedCallTree=new xe(this.logger)}return e.prototype.convertStackToCallTree=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("ConvertStackToCallTree",(function(){return t.convertedCallTree=t.buildCallTree(e),t.isConvertCalled=!0,T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r)},e.prototype.retrieveCallTree=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:new xe(this.logger)});return m.startNew("RetrieveCallTree",(function(){return e.isConvertCalled?(e.isConvertCalled=!1,T.generateOperationResult({didOperationSucceed:!0,result:e.convertedCallTree})):(e.logger.logConvertStackToCallTreeNeverCalled(),T.generateOperationResult({didOperationSucceed:!1,result:new xe(e.logger)}))}),t).getResult()},e.prototype.buildCallTree=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:new xe(this.logger)});return m.startNew("BuildCallTree",(function(r){for(var o=[];;){var n=e.peek();if(void 0===n)break;o.unshift(n),e.pop()}if(0===o.length)return r.addLog("No profiler frames were extracted. Returning null call tree"),T.generateOperationResult({didOperationSucceed:!0,result:new je});var i=0;o.forEach((function(e,t){if((i=t+1)!==o.length){var r=o[i];e.addChildNode(r)}}));var a=o[0];return T.generateOperationResult({didOperationSucceed:!0,result:new De(a,t.customProperties,t.logger)})}),r).getResult()},e}(),qe=function(){function e(e){this.logger=e,this.convertStacksCalled=!1,this.callTrees=[],this.customProperties={}}return e.prototype.convertStacksToCallTrees=function(e,t){var r=this,o=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("ConvertStacksToCallTrees",(function(){return r.callTrees=r.convertToCallTrees(t),r.convertStacksCalled=!0,r.customProperties=e,T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o)},e.prototype.retrieveConvertedCallTrees=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:[]});return m.startNew("RetrieveConvertedCallTrees",(function(){return e.convertStacksCalled?(e.convertStacksCalled=!1,T.generateOperationResult({didOperationSucceed:!0,result:e.callTrees})):(e.logger.logConvertStacksToCallTreesNeverCalled(),T.generateOperationResult({didOperationSucceed:!1,result:[]}))}),t).getResult()},e.prototype.convertToCallTrees=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:[]});return m.startNew("ConvertToCallTrees",(function(){var r=[],o=new He(t.customProperties,t.logger);return e.forEach((function(e){o.convertStackToCallTree(e),r.push(o.retrieveCallTree())})),T.generateOperationResult({didOperationSucceed:!0,result:r})}),r).getResult()},e}();function Ge(e,t){var r=T.generateOperationResult({didOperationSucceed:!1,result:{wasMergeSuccessful:!1,mergedCallTree:e}});return m.startNew("MergeTwoTrees",(function(r){var o=e.getRightMostNodesIterator(),n=t.getLeftMostNodesIterator();if(!o.hasMore()||!n.hasMore()){r.addProperty("CurrentCallTreeIteratorEmptyProperty",!o.hasMore());return r.addProperty("CallTreeToMergeIteratorEmptyProperty",!n.hasMore()),T.generateOperationResult({didOperationSucceed:!0,result:{mergedCallTree:e,wasMergeSuccessful:!1}})}for(var i=0,a=void 0,l=void 0,s=void 0;o.hasMore()&&n.hasMore()&&(a=o.getNext(),l=n.getNext(),void 0!==a&&void 0!==l&&Ue(a.getFrame(),l.getFrame()));){var u=a.getTotalExecutionTimeInMs()+(l.getLastObservedTimestamp()-a.getLastObservedTimestamp());a.setTotalExecutionTime(u),a.setLastObservedTimestamp(l.getLastObservedTimestamp()),s=a,i+=1}if(r.addProperty("MergeLength",i),0===i){return r.addProperty("UnableToMerge",!0),T.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!1,mergedCallTree:e}})}if(void 0===a&&void 0===l){return r.addProperty("FullMerge",!0),T.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!0,mergedCallTree:e}})}if(o.hasMore()&&!n.hasMore()&&void 0!==s){return r.addProperty("TallerLeftCallTree",!0),s.addChildNode(new Be),T.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!0,mergedCallTree:e}})}var c=void 0!==a&&void 0!==l&&!Ue(a.getFrame(),l.getFrame())&&void 0!==s,p=!o.hasMore()&&n.hasMore()&&void 0!==s;if(c||p){if(c){r.addProperty("PartialMergeOfHeightBalancedCallTrees",!0)}if(p){r.addProperty("TallerRightCallTreeMerge",!0),l=n.getNext()}void 0!==s&&void 0!==l&&s.addChildNode(l)}return T.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:i>0,mergedCallTree:e}})}),r).getResult()}var ze=function(){function e(){this.mergedCallTrees=[],this.didMergeCallTreesGetCalled=!1}return e.prototype.mergeCallTrees=function(e){var t=this,r=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("MergeCallTrees",(function(){if(e.length<2)return t.mergedCallTrees=e,T.generateOperationResult({didOperationSucceed:!0,result:void 0});t.didMergeCallTreesGetCalled=!0,t.mergedCallTrees=[];for(var r=0,o=1,n=!1;o<e.length;){var i=e[r];(n=Ge(i,e[o]).wasMergeSuccessful)||(t.mergedCallTrees.push(i),r=o),o+=1}return n?t.mergedCallTrees.push(e[r]):t.mergedCallTrees.push(e[o-1]),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r)},e.prototype.retrieveMergedCallTrees=function(){return this.didMergeCallTreesGetCalled?(this.didMergeCallTreesGetCalled=!1,this.mergedCallTrees):[]},e}(),Ke=function(){function e(){this.filteredCallTreesToReturn=[],this.filterCallTreesCalled=!1}return e.prototype.filterCallTrees=function(e,t){var r=this,o=T.generateOperationResult({didOperationSucceed:!1,result:void 0});return m.startNew("FilterCallTrees",(function(){return r.filterCallTreesCalled=!0,r.filteredCallTreesToReturn=[],e.forEach((function(e){e.getTotalExecutionTimeInMs()>t&&r.filteredCallTreesToReturn.push(e)})),T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o).getResult()},e.prototype.retrieveFilteredCallTrees=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!1,result:[]});return m.startNew("RetrieveFilteredCallTrees",(function(){return e.filterCallTreesCalled?(e.filterCallTreesCalled=!1,T.generateOperationResult({didOperationSucceed:!0,result:e.filteredCallTreesToReturn})):T.generateOperationResult({didOperationSucceed:!1,result:[]})}),t).getResult()},e}(),Ze=function(){function e(e){this.logger=e,this.didFilterSamplesGetCalled=!1,this.filteredSamples=[]}return e.prototype.filterSamples=function(e,t){var r=this,o=T.generateOperationResult({didOperationSucceed:!1,result:void 0});m.startNew("FilterSamples",(function(){if(r.didFilterSamplesGetCalled=!0,r.filteredSamples=[],0===e.length)return r.logger.logEmptySamplesArrayPassedToFilter(),T.generateOperationResult({didOperationSucceed:!1,result:void 0});for(var o=e[0],n=0,i=e;n<i.length;n++){var a=i[n];if(a.timestamp-o.timestamp>t)break;r.filteredSamples.push(a)}return T.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o)},e.prototype.retrieveFilteredSamples=function(){return this.didFilterSamplesGetCalled?(this.didFilterSamplesGetCalled=!1,this.filteredSamples):[]},e}(),Qe=function(){function e(e,t,r){this.featureChecker=e,this.jsCPUProfilingPackageInitOptions=t,this.logger=r}return e.prototype.retrieveProfilerFactory=function(){var e=this,t=T.generateOperationResult({didOperationSucceed:!0,result:new Ie(this.logger)});return m.startNew("RetrieveProfilerFactory",(function(){var t=e.getSupportedEnvironmentChecker(),r=new ie(e.featureChecker,t,e.logger),o=new ve(e.logger),n=new Oe(e.logger),i={appName:null==e.jsCPUProfilingPackageInitOptions.appName?"":e.jsCPUProfilingPackageInitOptions.appName,buildVersion:null==e.jsCPUProfilingPackageInitOptions.buildVersion?"":e.jsCPUProfilingPackageInitOptions.buildVersion,deObfuscationEndpoint:null==e.jsCPUProfilingPackageInitOptions.deObfuscationEndpoint?"":e.jsCPUProfilingPackageInitOptions.deObfuscationEndpoint},a=new We,l=new Ze(e.logger),s=new Ee(a,l,null!=e.jsCPUProfilingPackageInitOptions.shouldKeepSamplesOutsideOfProfilingInterval&&e.jsCPUProfilingPackageInitOptions.shouldKeepSamplesOutsideOfProfilingInterval,e.logger),u=new qe(e.logger),c=new _e(s,u,e.logger),p=new ze,d=new Ke,g=new Ce(c,p,d,null==e.jsCPUProfilingPackageInitOptions.callTreeFilteringThresholdInMs?50:e.jsCPUProfilingPackageInitOptions.callTreeFilteringThresholdInMs,e.logger),f=P.getIdleTimeJobScheduler(),m=N.getDocumentVisibilityChecker(),h=null!=e.jsCPUProfilingPackageInitOptions.shouldProcessProfileCapturedInAHiddenDocument&&e.jsCPUProfilingPackageInitOptions.shouldProcessProfileCapturedInAHiddenDocument,v=new Pe(g,i,f,m,h,e.logger),S=new ne(r,e.logger,o,n,v,e.jsCPUProfilingPackageInitOptions);return T.generateOperationResult({didOperationSucceed:!0,result:S})}),t).getResult()},e.prototype.getSupportedEnvironmentChecker=function(){return de.build(this.logger)},e}(),Xe=function(){function e(){}return e.prototype.logMissingProfilerImplementation=function(e){l.a.sendTraceTag(588395204,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Factory doesn't know how to create profiler of type "+e)},e.prototype.logFailingValidationsInProfilerFactory=function(){l.a.sendTraceTag(588395205,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Validations failed while creating the profiler")},e.prototype.logWindowMissingInJSEnvironment=function(){l.a.sendTraceTag(587794505,s.a.msoulscat_Wac_Telemetry,u.a.Warning,"Unable to find window in the JS environment")},e.prototype.logWindowPerformanceMissingInJSEnvironment=function(){l.a.sendTraceTag(587794506,s.a.msoulscat_Wac_Telemetry,u.a.Warning,"Unable to find window.performance in the JS environment")},e.prototype.logWindowPropertyNameChecked=function(e){l.a.sendTraceTag(587522332,s.a.msoulscat_Wac_Telemetry,u.a.Info,e)},e.prototype.logUserAgentToParseChromiumMajorVersionNumber=function(e){l.a.sendTraceTag(587297552,s.a.msoulscat_Wac_Telemetry,u.a.Info,e)},e.prototype.logChromeNotPresentInUserAgent=function(){l.a.sendTraceTag(587297553,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Chrome was not found in the user agent")},e.prototype.logUnableToIsolateChromeInformationFromUserAgent=function(){l.a.sendTraceTag(587297554,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to isolate chrome information from the user agent")},e.prototype.logUnableToExtractChromeVersionInformation=function(){l.a.sendTraceTag(587297555,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to extract chrome version information from the user agent")},e.prototype.logUnableToParseChromeMajorVersionString=function(){l.a.sendTraceTag(587297556,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to parse the chromium major version number")},e.prototype.logParsedChromiumMajorVersionNumber=function(e){l.a.sendTraceTag(587297557,s.a.msoulscat_Wac_Telemetry,u.a.Info,e.toString())},e.prototype.logUserAgentToCheckForChromiumBrowser=function(e){l.a.sendTraceTag(587284889,s.a.msoulscat_Wac_Telemetry,u.a.Info,e)},e.prototype.logEmptyUserAgentString=function(){l.a.sendTraceTag(587284890,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Empty user agent string")},e.prototype.logBrowserUserAgentNotChromiumBased=function(){l.a.sendTraceTag(587284891,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Browser not chromium based")},e.prototype.logUserAgentSpoofedToBeChromium=function(){l.a.sendTraceTag(587284892,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Browser user agent spoofed to be chromium based")},e.prototype.logBrowserNotChromiumBasedBrowser=function(){l.a.sendTraceTag(587284893,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Browser user agent spoofed to be chromium based")},e.prototype.logBrowserChromiumBased=function(){l.a.sendTraceTag(587284894,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Chromium based browser")},e.prototype.logChromiumBrowserMajorVersionNumber=function(e){l.a.sendTraceTag(587284895,s.a.msoulscat_Wac_Telemetry,u.a.Info,e.toString())},e.prototype.logUnsupportedChromiumMajorVersionNumber=function(){l.a.sendTraceTag(587284896,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Unsupported chromium major version number")},e.prototype.logProfilerInitOptionsNullOrUndefined=function(){l.a.sendTraceTag(587273946,s.a.msoulscat_Wac_Telemetry,u.a.Info,"ProfilerInitOptions cannot be null or undefined")},e.prototype.logSamplingInterval=function(e){l.a.sendTraceTag(587273947,s.a.msoulscat_Wac_Telemetry,u.a.Info,e.toString())},e.prototype.logSamplingIntervalIsLessThanOrEqualToZero=function(){l.a.sendTraceTag(587273948,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Sampling interval must be greater than zero")},e.prototype.logSamplingIntervalLessThanMinimumSupportedSamplingInterval=function(){l.a.sendTraceTag(587273949,s.a.msoulscat_Wac_Telemetry,u.a.Warning,"Sampling interval is less than minimum supported sampling interval. API might perform scaling")},e.prototype.logUnsupportedBrowser=function(){l.a.sendTraceTag(587252693,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Profiling is not supported in this browser")},e.prototype.logUnsupportedOperatingSystem=function(){l.a.sendTraceTag(587252694,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Profiling is not supported in this operating system")},e.prototype.logJSSelfProfilingAPIUnavailable=function(){l.a.sendTraceTag(587252695,s.a.msoulscat_Wac_Telemetry,u.a.Info,"JSSelfProfiling is not available")},e.prototype.logRetrievedUserAgent=function(e){l.a.sendTraceTag(587251986,s.a.msoulscat_Wac_Telemetry,u.a.Info,e)},e.prototype.logNullJSCPUProfilerStartCalled=function(){l.a.sendTraceTag(587236810,s.a.msoulscat_Wac_Telemetry,u.a.Info,"NullJSCPUProfiler start called")},e.prototype.logNullJSCPUProfilerStopCalled=function(){l.a.sendTraceTag(587236811,s.a.msoulscat_Wac_Telemetry,u.a.Info,"NullJSCPUProfiler stop called")},e.prototype.logNullOrUndefinedProfilerInitOptions=function(){l.a.sendTraceTag(587235554,s.a.msoulscat_Wac_Telemetry,u.a.Info,"ProfilerInitOptions is null or undefined")},e.prototype.logMaxBufferSizeFixedToDefaultSize=function(){l.a.sendTraceTag(587235555,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Max buffer size was fixed to the default max size")},e.prototype.logMaxBufferSizeWasNotFixedBeforeRetrieval=function(){l.a.sendTraceTag(587235584,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Retrieve was called before fix max buffer size was called. The returned options can be undefined")},e.prototype.logWindowPerformanceProfileNotPresentInJSEnvironment=function(){l.a.sendTraceTag(587229282,s.a.msoulscat_Wac_Telemetry,u.a.Info,"window.performance.profile is not present in the JS environment indicating JSSelfProfiling API is not available")},e.prototype.logSamplingIntervalValidationCheckFailed=function(){l.a.sendTraceTag(587223882,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Sampling interval validation check failed")},e.prototype.logMaxBufferValidationFailed=function(){l.a.sendTraceTag(587223883,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Max buffer size validation failed")},e.prototype.logMaxBufferSizeNotSpecified=function(){l.a.sendTraceTag(587223884,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Max buffer size is not specified")},e.prototype.logMaxBufferSizeLessThanOrEqualToZero=function(){l.a.sendTraceTag(587223885,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Max buffer size is less than or equal to zero")},e.prototype.logManualProfilerValidationFailed=function(){l.a.sendTraceTag(579745164,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Timed profiler initialization options failed to pass manual profiler initialization options")},e.prototype.logProfilingIntervalValidationFailed=function(){l.a.sendTraceTag(579745165,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Profiling interval validation failed")},e.prototype.logProfilingIntervalNullOrUndefined=function(){l.a.sendTraceTag(579745166,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Profiling interval is null or undefined")},e.prototype.logProfilingIntervalLessThanOrEqualToZero=function(){l.a.sendTraceTag(579745167,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Profiling interval is less than or equal to zero")},e.prototype.logProfilingIntervalLessThanSamplingInterval=function(){l.a.sendTraceTag(579745168,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Profiling interval is less than sampling interval")},e.prototype.logTimedProfilerValidationFailed=function(){l.a.sendTraceTag(579655449,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Continuous profiler init options failed to pass timed profiler initialization options")},e.prototype.logIdleIntervalValidationFailed=function(){l.a.sendTraceTag(579655450,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Idle interval validation failed for continuous profiler")},e.prototype.logIdleIntervalIsNullOrUndefined=function(){l.a.sendTraceTag(579655451,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Idle interval is a required argument for continuous profiler")},e.prototype.logIdleIntervalIsLessThanOrEqualToZero=function(){l.a.sendTraceTag(579655452,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Idle interval must be greater than zero")},e.prototype.logPostProfilerStartCallbackSpecified=function(){l.a.sendTraceTag(579465421,s.a.msoulscat_Wac_Telemetry,u.a.Info,"A post profiler start callback is specified")},e.prototype.logPreProfilerStartCheckFailed=function(){l.a.sendTraceTag(579465422,s.a.msoulscat_Wac_Telemetry,u.a.Info,"One or more pre-profiler start checks failed")},e.prototype.logMaxBufferSizeNotFixed=function(){l.a.sendTraceTag(579465423,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Max buffer size must be fixed before we get to this point. Is the profiler being created outside the factory?")},e.prototype.logProfilerAlreadyStarted=function(){l.a.sendTraceTag(579465424,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Attempting to start the profiler even though the profiler is already started. Stop the profiler first and attempt a restart")},e.prototype.logProfilerStartPromiseResolved=function(){l.a.sendTraceTag(579465425,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Promise to start the profiler resolved successfully")},e.prototype.logProfilerStartPromiseRejected=function(e){l.a.sendTraceTag(579465426,s.a.msoulscat_Wac_Telemetry,u.a.Error,JSON.stringify({promiseRejectionReason:e}))},e.prototype.logInvokingPostProfilerStartCallback=function(){l.a.sendTraceTag(579465427,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Invoking the post profiler start callback")},e.prototype.logPostProfilerStopCallbackSpecified=function(){l.a.sendTraceTag(579465428,s.a.msoulscat_Wac_Telemetry,u.a.Info,"A callback for post profiler stop is specified")},e.prototype.logProfilerInstanceIsUndefined=function(){l.a.sendTraceTag(579465429,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Profiler instance is undefined. Is the profiler is being stopped without ever starting?")},e.prototype.logProfilerStopPromiseResolved=function(){l.a.sendTraceTag(579465430,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Profiler stop promise has been resolved successfully")},e.prototype.logProfilerStopPromiseRejected=function(e){l.a.sendTraceTag(579465431,s.a.msoulscat_Wac_Telemetry,u.a.Error,JSON.stringify({promiseRejectionReason:e}))},e.prototype.logPostProfilerStopCallbackInvoked=function(){l.a.sendTraceTag(579465432,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Post profiler stop callback is being invoked")},e.prototype.logPostTimedStartProfilerStartCallbackInvoked=function(){l.a.sendTraceTag(579133791,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Post timed profiler start callback invoked")},e.prototype.logProfilingIntervalIsUndefined=function(){l.a.sendTraceTag(579133792,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Profiling interval is expected to be defined for timed profiler")},e.prototype.logTimerJobToStopProfilerSet=function(){l.a.sendTraceTag(579133793,s.a.msoulscat_Wac_Telemetry,u.a.Info,"A timer job to stop the profiler is created")},e.prototype.logTimedProfilerStopCallbackInvoked=function(){l.a.sendTraceTag(579133794,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Timed profiler is being stopped automatically")},e.prototype.logTimedProfilerIsBeingStoppedManually=function(){l.a.sendTraceTag(579133795,s.a.msoulscat_Wac_Telemetry,u.a.Warning,"Timed profiler is being stopped manually")},e.prototype.logProfilerStartPromiseCreated=function(){l.a.sendTraceTag(579133824,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Profiler start promise has been created")},e.prototype.logProfilerStopGoingToBeInvoked=function(){l.a.sendTraceTag(579133825,s.a.msoulscat_Wac_Telemetry,u.a.Info,"A call to stop profiler is going to be invoked")},e.prototype.logSamplingIntervalUsedForStartingProfiler=function(e){l.a.sendTraceTag(578954321,s.a.msoulscat_Wac_Telemetry,u.a.Info,e.toString())},e.prototype.logMaxBufferSize=function(e){l.a.sendTraceTag(578954322,s.a.msoulscat_Wac_Telemetry,u.a.Info,e.toString())},e.prototype.logProfilerTypeToBuild=function(e){var t="";switch(e){case 0:t="ManualProfiler";break;case 1:t="TimedProfiler";break;case 2:t="ContinuousProfiler";break;case 3:t="FullSessionProfiler";break;default:l.a.sendTraceTag(578814813,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Missing profiler name to log for profilerType "+t)}l.a.sendTraceTag(578814814,s.a.msoulscat_Wac_Telemetry,u.a.Info,t)},e.prototype.logProfilerInitOptions=function(e){l.a.sendTraceTag(578814815,s.a.msoulscat_Wac_Telemetry,u.a.Info,JSON.stringify({samplingIntervalInMs:e.samplingIntervalInMs,maximumNumberOfSamplesToTake:e.maximumNumberOfSamplesToTake,profilingIntervalInMs:e.profilingIntervalInMs,idleIntervalInMs:e.idleIntervalInMs}))},e.prototype.logNoProfilerInstanceBuilt=function(){l.a.sendTraceTag(578814816,s.a.msoulscat_Wac_Telemetry,u.a.Error,"No instance of a profiler was built. Missing implementation?")},e.prototype.logProfilerInitOptionsValidationFailed=function(){l.a.sendTraceTag(578647639,s.a.msoulscat_Wac_Telemetry,u.a.Info,"ProfilerInitOptions validation failed")},e.prototype.logUnableToFixUpProfilerInitOptions=function(){l.a.sendTraceTag(578647640,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Unable to fixup profilerInitOptions")},e.prototype.logProfilingIsNotEnabled=function(){l.a.sendTraceTag(578647651,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Profiling feature is not enabled")},e.prototype.logProfilingIsNotSupportedEnvironment=function(){l.a.sendTraceTag(578647680,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Profiling is not supported in the environment")},e.prototype.logFeatureCheckerIsNullOrUndefined=function(){l.a.sendTraceTag(578647681,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Feature checker is null or undefined")},e.prototype.logNullSupportedEnvironmentCheckerInvoked=function(){l.a.sendTraceTag(578090846,s.a.msoulscat_Wac_Telemetry,u.a.Error,"NullSupportedEnvironmentChecker was invoked")},e.prototype.logNullJSCPUProfilerInitOptionsValidatorInvoked=function(){l.a.sendTraceTag(578090847,s.a.msoulscat_Wac_Telemetry,u.a.Error,"NullJSCPUProfilerInitOptionsValidator was invoked")},e.prototype.logNullJSCPUProfilerFactoryInvoked=function(){l.a.sendTraceTag(578078354,s.a.msoulscat_Wac_Telemetry,u.a.Error,"NullJSCPUProfilerFactory createProfiler was invoked")},e.prototype.logNullOrUndefinedIdleInterval=function(){l.a.sendTraceTag(577884931,s.a.msoulscat_Wac_Telemetry,u.a.Error,"idleIntervalInMs is null or undefined. So killing the timer job")},e.prototype.logSiteNotCrossOriginIsolated=function(){l.a.sendTraceTag(577765505,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Site trying to create a profiler is not cross origin isolated")},e.prototype.logNoProfilerObserverSubscribed=function(){l.a.sendTraceTag(577597458,s.a.msoulscat_Wac_Telemetry,u.a.Warning,"No profiler observer has been subscribed. The profile will not be sent for collection")},e.prototype.logCreateProfilerDidNotSubscribeProfilerObserver=function(){l.a.sendTraceTag(577597459,s.a.msoulscat_Wac_Telemetry,u.a.Error,"A profiler observer was never subscribed to the created profiler")},e.prototype.logProfilerTrace=function(e,t){l.a.sendTraceTag(577597460,s.a.msoulscat_Wac_Telemetry,u.a.Info,JSON.stringify({deObfuscationInfo:t,customProperties:e.getCustomProperties(),resources:e.getResources(),frames:e.getFrames(),stacks:e.getStacks(),samples:e.getSamples()}))},e.prototype.logMissingAppName=function(){l.a.sendTraceTag(577573318,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Missing AppName. Without AppName, profile cannot be properly deobfuscated")},e.prototype.logMissingBuildVersion=function(){l.a.sendTraceTag(577573319,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Missing buildVersion, Without buildVersion, profile cannot be properly deobfuscated")},e.prototype.logNullOrUndefinedCustomPropertiesRetriever=function(){l.a.sendTraceTag(577565409,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Custom Properties retriever is null or undefined")},e.prototype.logNullOrUndefinedCustomProperties=function(){l.a.sendTraceTag(577565410,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Custom Properties is null or undefined")},e.prototype.logCustomPropertyKeyIsNull=function(){l.a.sendTraceTag(577565411,s.a.msoulscat_Wac_Telemetry,u.a.Error,"A custom property key is null")},e.prototype.logCustomPropertyValueIsNull=function(){l.a.sendTraceTag(577565440,s.a.msoulscat_Wac_Telemetry,u.a.Error,"A custom property value is null")},e.prototype.logRetrieveCallTreesCalledBeforeTransform=function(){l.a.sendTraceTag(577523926,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Transform should be called before retrieveCallTrees")},e.prototype.logRetrieveBuiltCallTreesBeforeBuildCallTrees=function(){l.a.sendTraceTag(577519904,s.a.msoulscat_Wac_Telemetry,u.a.Error,"BuildCallTrees should be called before retrieveBuiltCallTrees")},e.prototype.logRetrieveStacksCalledBeforeBuildStacks=function(){l.a.sendTraceTag(577381003,s.a.msoulscat_Wac_Telemetry,u.a.Error,"BuildStacks should be called before retrieveStacks")},e.prototype.logExecutionStacksNeverBuilt=function(){l.a.sendTraceTag(577304542,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Execution stacks were not built. Instead an empty array of stacks will be returned")},e.prototype.logPeekOnNullExecutionStackInvoked=function(){l.a.sendTraceTag(577304543,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Peek was invoked on Null ExecutionStack")},e.prototype.logPopOnNullExecutionStackInvoked=function(){l.a.sendTraceTag(577304544,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Pop was invoked on Null ExecutionStack")},e.prototype.logEmptyStacks=function(){l.a.sendTraceTag(577304546,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Stacks array is empty. No further processing can be performed.")},e.prototype.logEmptyFrames=function(){l.a.sendTraceTag(577304547,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Frames array is empty. No further processing can be performed.")},e.prototype.logForciblyExitingLoopWhileBuildingStack=function(){l.a.sendTraceTag(577304576,s.a.msoulscat_Wac_Telemetry,u.a.Error,"While loop is being forcibly exited because of a runaway while loop ")},e.prototype.logRetrieveStackCalledBeforeBuildStack=function(){l.a.sendTraceTag(577304577,s.a.msoulscat_Wac_Telemetry,u.a.Error,"BuildStack should be called before RetrieveStack")},e.prototype.logExecutionStackNeverBuilt=function(){l.a.sendTraceTag(577304578,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Built execution stack is undefined. So null execution stack will be returned")},e.prototype.logConvertStacksToCallTreesNeverCalled=function(){l.a.sendTraceTag(576579603,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Convert stacks to call trees was not called before retrieve call trees. Empty call trees will be returned")},e.prototype.logConvertStackToCallTreeNeverCalled=function(){l.a.sendTraceTag(576227350,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Convert stack to call tree was not called before retrieve call tree. Null call tree will be returned")},e.prototype.logNullFrameNodeCreated=function(){l.a.sendTraceTag(576024675,s.a.msoulscat_Wac_Telemetry,u.a.Info,"NullFrameNode created")},e.prototype.logNullCallTreeIteratorCreated=function(){l.a.sendTraceTag(576024704,s.a.msoulscat_Wac_Telemetry,u.a.Info,"NullCallTreeIterator created")},e.prototype.logInvalidSampleIndex=function(){l.a.sendTraceTag(575784139,s.a.msoulscat_Wac_Telemetry,u.a.Error,"sampleIndex needs to be greater than zero for proper indexing")},e.prototype.logInvalidFrameNodeStartTime=function(){l.a.sendTraceTag(575784140,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Invalid frame node starting time")},e.prototype.logInvalidFrameNodeExecutionTime=function(){l.a.sendTraceTag(575784141,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Invalid frame node execution time")},e.prototype.logInvalidNewFrameNodeExecutionTime=function(){l.a.sendTraceTag(575784142,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Invalid new frame node execution time")},e.prototype.logNegativeSubTreeExecutionTime=function(){l.a.sendTraceTag(575784143,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Negative sub tree execution time")},e.prototype.logFixerForProfilerType=function(e){l.a.sendTraceTag(575705692,s.a.msoulscat_Wac_Telemetry,u.a.Info,e.toString())},e.prototype.logMissingProfilerInitOptionsFixerImplementation=function(){l.a.sendTraceTag(575705693,s.a.msoulscat_Wac_Telemetry,u.a.Info,"Missing profiler init options fixer for unknown profiler type")},e.prototype.logLoopBackFixerFixProfilerInitOptionsInvoked=function(){l.a.sendTraceTag(574764573,s.a.msoulscat_Wac_Telemetry,u.a.Error,"LoopBackFixer fixProfilerInitOptions was invoked")},e.prototype.logLoopBackFixerRetrieveFixedProfilerInitOptionsInvoked=function(){l.a.sendTraceTag(574764574,s.a.msoulscat_Wac_Telemetry,u.a.Error,"LoopBackFixer retrieveFixedProfilerInitOptions was invoked")},e.prototype.logMissingDeObfuscationEndpoint=function(){l.a.sendTraceTag(573908487,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Null or undefined deObfuscation endpoint was provided")},e.prototype.logNotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling=function(){l.a.sendTraceTag(572928196,s.a.msoulscat_Wac_Telemetry,u.a.Info,"The profile was captured in a hidden document. So, we are not processing it")},e.prototype.logNullCallTreeDepthFirstIteratorInvoked=function(){l.a.sendTraceTag(573081549,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Null getDepthFirstIterator was invoked")},e.prototype.logEmptySamplesArrayPassedToFilter=function(){l.a.sendTraceTag(572909058,s.a.msoulscat_Wac_Telemetry,u.a.Error,"In order to properly filter out samples we need at least one sample")},e.prototype.logNullCallTreeLeftMostNodesIteratorInvoked=function(){l.a.sendTraceTag(572905360,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Null iterator was returned back to iterate over left most nodes")},e.prototype.logNullCallTreeRightMostNodesIteratorInvoked=function(){l.a.sendTraceTag(572905361,s.a.msoulscat_Wac_Telemetry,u.a.Error,"Null iterator was returned back to iterate over right most nodes")},e.prototype.logMissingIsProfilingEnabledOnFeatureChecker=function(){l.a.sendTraceTag(572643337,s.a.msoulscat_Wac_Telemetry,u.a.Error,"isProfilingEnabled is missing in FeatureChecker")},e.prototype.logFeatureCheckerIsProfilingEnabledNotAFunction=function(){l.a.sendTraceTag(572643338,s.a.msoulscat_Wac_Telemetry,u.a.Error,"isProfilingEnabled on FeatureChecker is not a function")},e.prototype.logNullCallTreeGetTotalExecutionTimeInvoked=function(){l.a.sendTraceTag(572592977,s.a.msoulscat_Wac_Telemetry,u.a.Error,"NullCallTree getTotalExecutionTimeInMs was invoked")},e.prototype.logNullCallTreeGetCustomPropertiesInvoked=function(){l.a.sendTraceTag(572592978,s.a.msoulscat_Wac_Telemetry,u.a.Error,"NullCallTree getCustomProperties was invoked")},e}(),Ye=function(){function e(e){this.logger=e}return e.prototype.retrieveProfilerFactory=function(){return this.logger.logNullJSCPUProfilerFactoryInvoked(),new Ie(this.logger)},e}();r.d(t,"a",(function(){return $e}));var $e=function(){function e(){this.logger=new Xe}return e.prototype.retrievePackage=function(e,t){var r=this,o=T.generateOperationResult({didOperationSucceed:!1,result:new Ye(this.logger)});return m.startNew("RetrieveCPUProfilingPackage",(function(o){if(null==t)return T.generateOperationResult({didOperationSucceed:!1,result:new Ye(r.logger)});if(null==t.ulsInstance)return T.generateOperationResult({didOperationSucceed:!1,result:new Ye(r.logger)});if(Object(l.b)(t.ulsInstance),null==t.appName)return r.logger.logMissingAppName(),T.generateOperationResult({didOperationSucceed:!1,result:new Ye(r.logger)});if(null==t.buildVersion)return r.logger.logMissingBuildVersion(),T.generateOperationResult({didOperationSucceed:!1,result:new Ye(r.logger)});if(null==t.deObfuscationEndpoint)return r.logger.logMissingDeObfuscationEndpoint(),T.generateOperationResult({didOperationSucceed:!1,result:new Ye(r.logger)});null==t.callTreeFilteringThresholdInMs&&(t.callTreeFilteringThresholdInMs=50),null==t.shouldProfilingStartInAHiddenDocument&&(t.shouldProfilingStartInAHiddenDocument=!1),null==t.shouldProcessProfileCapturedInAHiddenDocument&&(t.shouldProcessProfileCapturedInAHiddenDocument=!1),null==t.shouldKeepSamplesOutsideOfProfilingInterval&&(t.shouldKeepSamplesOutsideOfProfilingInterval=!1);return o.addProperty("AppName",t.appName),o.addProperty("BuildVersion",t.buildVersion),o.addProperty("DeObfuscationEndpoint",t.deObfuscationEndpoint),o.addProperty("CallTreeFilteringThresholdInMs",t.callTreeFilteringThresholdInMs),o.addProperty("ShouldProfilingStartInAHiddenDocument",t.shouldProfilingStartInAHiddenDocument),o.addProperty("ShouldProcessProfileCapturedInAHiddenDocument",t.shouldProcessProfileCapturedInAHiddenDocument),o.addProperty("ShouldKeepSamplesOutsideOfProfilingInterval",t.shouldKeepSamplesOutsideOfProfilingInterval),T.generateOperationResult({didOperationSucceed:!0,result:new Qe(e,t,r.logger)})}),o).getResult()},e}()},function(e,t,r){"use strict";r(11),r(9),r(10)},function(e,t,r){"use strict";r(4);var o=r(1);r.o(o,"JSCPUProfilingPackageRetriever")&&r.d(t,"JSCPUProfilingPackageRetriever",(function(){return o.JSCPUProfilingPackageRetriever}))},function(e,t,r){"use strict";r.r(t),r.d(t,"getJSCPUProfilingPackageRetriever",(function(){return n}));var o=r(5);function n(){return new o.JSCPUProfilingPackageRetriever}},,,function(e,t,r){"use strict";var o;r.d(t,"a",(function(){return o})),function(e){e[e.msoulscat_ES_EWAJS=0]="msoulscat_ES_EWAJS",e[e.msoulscat_ES_EWAJSGrid=1]="msoulscat_ES_EWAJSGrid",e[e.msoulscat_ES_EWAJSChart=6]="msoulscat_ES_EWAJSChart",e[e.msoulscat_MSOSP_FileMenuCommands=202]="msoulscat_MSOSP_FileMenuCommands",e[e.msoulscat_Wac_WordViewer=301]="msoulscat_Wac_WordViewer",e[e.msoulscat_Wac_BrowserGeneral=306]="msoulscat_Wac_BrowserGeneral",e[e.msoulscat_Wac_TaskPane=320]="msoulscat_Wac_TaskPane",e[e.msoulscat_Wac_OneNoteGeneral=339]="msoulscat_Wac_OneNoteGeneral",e[e.msoulscat_Wac_Ribbon=340]="msoulscat_Wac_Ribbon",e[e.msoulscat_Wac_WopiPendingApplication=379]="msoulscat_Wac_WopiPendingApplication",e[e.msoulscat_Wac_Telemetry=383]="msoulscat_Wac_Telemetry",e[e.msoulscat_Wac_WacCatchUpActivities=391]="msoulscat_Wac_WacCatchUpActivities",e[e.msoulscat_Wac_Dictation=394]="msoulscat_Wac_Dictation",e[e.msoulscat_Wac_OneNoteSync=395]="msoulscat_Wac_OneNoteSync",e[e.msoulscat_Wac_VisioApp=700]="msoulscat_Wac_VisioApp",e[e.msoulscat_OneNoteOnline_EditableCache=1601]="msoulscat_OneNoteOnline_EditableCache",e[e.msoulscat_Wac_PptAnimation=800]="msoulscat_Wac_PptAnimation",e[e.msoulscat_Wac_PptLive=833]="msoulscat_Wac_PptLive",e[e.msoulscat_Wac_PptMWeb=834]="msoulscat_Wac_PptMWeb",e[e.msoulscat_Wac_PptShape=815]="msoulscat_Wac_PptShape",e[e.msoulscat_Wac_PptSession=817]="msoulscat_Wac_PptSession",e[e.msoulscat_Wac_PptSlideshow=830]="msoulscat_Wac_PptSlideshow",e[e.msoulscat_Wac_VersionHistory=2300]="msoulscat_Wac_VersionHistory",e[e.msoulscat_Wac_WordPresence=302]="msoulscat_Wac_WordPresence",e[e.msoulscat_Wac_WordVersionHistory=3005]="msoulscat_Wac_WordVersionHistory",e[e.msoulscat_Wac_LivePersonaCard=3006]="msoulscat_Wac_LivePersonaCard",e[e.msoulscat_Wac_CatchUpFlyout=3012]="msoulscat_Wac_CatchUpFlyout",e[e.msoulscat_Wac_ModernFontPicker=3021]="msoulscat_Wac_ModernFontPicker"}(o||(o={}))},function(e,t,r){"use strict";var o;r.d(t,"a",(function(){return o})),function(e){e[e.Error=10]="Error",e[e.Warning=15]="Warning",e[e.Info=50]="Info",e[e.Verbose=100]="Verbose",e[e.Spam=200]="Spam"}(o||(o={}))},function(e,t,r){"use strict";var o=function(){function e(){}return e.prototype.sendTraceTag=function(){},e.prototype.shipAssertTag=function(){},e.prototype.debugAssertTag=function(){},e}();r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=new(function(){function e(){this.externalLogger=new o}return e.prototype.setLogger=function(e){this.externalLogger=e},e.prototype.sendTraceTag=function(e,t,r,o){this.externalLogger.sendTraceTag(e,t,r,o)},e.prototype.debugAssertTag=function(e,t,r,o){this.externalLogger.debugAssertTag(e,t,r,o)},e.prototype.shipAssertTag=function(e,t,r,o){this.externalLogger.shipAssertTag(e,t,r,o)},e}());function i(e){if(!e)throw new Error("The 'logger' argument is missing");n.setLogger(e)}}]);
//# sourceMappingURL=officeOnlinePerf.min.js.map